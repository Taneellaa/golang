.PHONY: run build swag clean

setup:
	@echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
	go mod download
	@echo "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"

swag:
	@echo "üìñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏..."
	swag init -g cmd/api/main.go
	@echo "‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞"

run:
	@echo "üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏..."
	go run cmd/api/main.go

build:
	@echo "üî® –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
	go build -o bin/todo-api cmd/api/main.go
	@echo "‚úÖ –°–æ–±—Ä–∞–Ω–æ: bin/todo-api"

clean:
	@echo "üßπ –û—á–∏—Å—Ç–∫–∞..."
	rm -rf bin/ docs/
	@echo "‚úÖ –û—á–∏—â–µ–Ω–æ"

dev: swag run

check:
	go fmt ./...
	go vet ./...